/**
 * Created by rafik-naccache on 07/12/14.
 */

    var _ = require('underscore');
var hash_obj_tuple = function(obj1,obj2){
    return obj1.name+'##'+obj2.name;
}


var transform_obj_to_name = function(obj,key)
{
    var result;
    var key_to_trans = obj[key];
    result = _.omit(obj,key);
    transf = _.map(key_to_trans, function(elt){return elt.name});
    result[key] = transf;
    return result;

}


add_a_thing= function(things, thing) {
    var exists = _.some(things,function(th){return th.name == thing.name});
    if (!exists) {
        return    things.push(thing);

    }
     return things;

}



remove_a_thing = function(things,thing) {
    return (_.without(things, thing));
}



module.exports.hash_obj_tuple = hash_obj_tuple;
module.exports.transform_obj_to_name = transform_obj_to_name;
module.exports.add_a_thing =  add_a_thing;
module.exports.remove_a_thing = remove_a_thing;